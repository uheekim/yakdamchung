<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì‚¬ìƒì²´ì§ˆ í…ŒìŠ¤íŠ¸</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
    }
    .btn-select {
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      border: 1px solid;
      font-size: 0.875rem;
      user-select: none;
      cursor: pointer;
      transition: all 0.2s ease;
      margin-right: 0.5rem;
    }
    .btn-default {
      background-color: #f1f5f9; /* slate-100 */
      color: #475569; /* slate-700 */
      border-color: #e2e8f0; /* slate-200 */
    }
    .btn-default:hover {
      background-color: #e2e8f0; /* slate-200 */
    }
    .btn-active {
      background-color: #fcd34d; /* amber-300 */
      color: #1e293b; /* gray-900 */
      border-color: #fbbf24; /* amber-400 */
      font-weight: 600;
    }
    .btn-select.dragging {
      background-color: #fde68a; /* ì—°í•œ ë…¸ë€ìƒ‰ */
      border-color: #fbbf24;
      color: #92400e;
    }
    #progressContainer {
      background-color: #e5e7eb; /* ì—°í•œ íšŒìƒ‰ */
      border-radius: 0.5rem;
      overflow: hidden;
      margin-bottom: 1rem;
      height: 8px;
      width: 100%;
    }
    #progressBar {
      height: 100%;
      width: 0%;
      background-color: #fde68a; /* ì—°í•œ ë…¸ë€ìƒ‰ */
      transition: width 0.3s ease;
    }
  </style>
</head>
<body class="bg-indigo-50 text-slate-800">
  <div class="max-w-md mx-auto p-6">
    <!-- ì‹œì‘ í™”ë©´ -->
    <div id="start" class="text-center space-y-4">
      <h1 class="text-2xl font-bold">ğŸµ ì‚¬ìƒì²´ì§ˆ í…ŒìŠ¤íŠ¸</h1>
      <p class="text-sm text-slate-600">ë‹¹ì‹ ì˜ ì²´ì§ˆì„ ì•Œì•„ë³´ê³ <br />ë§ì¶¤ í•œë°©ì°¨ì™€ ì•½ì´ˆë¥¼ ì¶”ì²œë°›ì•„ë³´ì„¸ìš”.</p>
      <input
        id="nameInput"
        type="text"
        placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
        class="mt-4 w-full px-4 py-2 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-amber-300"
      />
      <button
        id="startBtn"
        class="bg-amber-400 hover:bg-amber-300 text-slate-800 px-4 py-2 rounded-xl font-semibold"
      >
        ì‹œì‘í•˜ê¸°
      </button>
    </div>

    <!-- í€´ì¦ˆ ì˜ì—­ -->
    <div id="quiz" class="space-y-6 hidden mt-6">
      <div id="progressContainer">
        <div id="progressBar"></div>
      </div>
      <div id="questionContainer"></div>
    </div>

    <!-- ê²°ê³¼ ì˜ì—­ -->
    <div
      id="result"
      class="hidden mt-8 p-4 bg-white rounded-xl shadow-md text-center space-y-2"
    >
      <h2 class="text-xl font-semibold">âœ¨ ê²°ê³¼</h2>
      <p id="resultType" class="text-lg"></p>
      <div id="resultImage" class="mx-auto w-32 h-32 flex items-center justify-center text-4xl"></div>
      <p id="herbTea" class="text-sm"></p>
      <p id="herb" class="text-sm"></p>
      <button
        id="restartBtn"
        class="mt-4 px-4 py-2 rounded-xl bg-indigo-200 hover:bg-indigo-300 text-sm font-semibold"
      >
        ë‹¤ì‹œí•˜ê¸° ğŸ”„
      </button>
    </div>
  </div>

  <script>
    // ì§ˆë¬¸ ë° ë°ì´í„°
    const questions = [
      { q: "1. ì•„ì¹¨ë³´ë‹¤ëŠ” ì €ë…ì— ë” í™œë°œí•˜ë‹¤.", t: "ì†Œì–‘ì¸" },
      { q: "2. ì‰½ê²Œ í”¼ë¡œë¥¼ ëŠë¼ê³  ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì˜ ë°›ëŠ”ë‹¤.", t: "ì†ŒìŒì¸" },
      { q: "3. ì—´ì´ ë§ê³  ë•€ì´ ë§ì€ í¸ì´ë‹¤.", t: "íƒœì–‘ì¸" },
      { q: "4. ìŒì‹ì„ ì˜ ë¨¹ê³  ì‚´ì´ ì˜ ì°ŒëŠ” í¸ì´ë‹¤.", t: "íƒœìŒì¸" },
      { q: "5. ì†Œí™”ë ¥ì´ ì¢‹ê³  í™œë™ì ì´ë‹¤.", t: "ì†Œì–‘ì¸" },
      { q: "6. ì†ë°œì´ ìì£¼ ì°¨ê°‘ê³  ì˜ˆë¯¼í•˜ë‹¤.", t: "ì†ŒìŒì¸" },
      { q: "7. ë¨¸ë¦¬ê°€ ëœ¨ê²ê³  ëª¸ì€ ì°¨ê°€ìš´ í¸ì´ë‹¤.", t: "íƒœì–‘ì¸" },
      { q: "8. ëŒ€ì²´ë¡œ ëŠê¸‹í•˜ê³  ì•ˆì •ì ì´ë‹¤.", t: "íƒœìŒì¸" },
      { q: "9. ë•€ì„ ì˜ í˜ë¦¬ê³  ë”ìœ„ë¥¼ ì˜ íƒ„ë‹¤.", t: "ì†Œì–‘ì¸" },
      { q: "10. ì¶”ìœ„ë¥¼ ë” ë§ì´ ëŠë¼ë©° ìœ„ì¥ë„ ì•½í•œ í¸ì´ë‹¤.", t: "ì†ŒìŒì¸" },
      { q: "11. ê¸°ê°€ ê°•í•˜ê³  ì™¸í–¥ì ì´ë‹¤.", t: "íƒœì–‘ì¸" },
      { q: "12. ë¨¹ëŠ” ê±¸ ì¦ê¸°ë©° ì²œì²œíˆ ì›€ì§ì¸ë‹¤.", t: "íƒœìŒì¸" },
      { q: "13. ì¹œêµ¬ë“¤ ì‚¬ì´ì—ì„œ ë¦¬ë” ì—­í• ì„ ìì£¼ ë§¡ëŠ”ë‹¤.", t: "íƒœì–‘ì¸" },
      { q: "14. ê·€ì°®ì€ ì¼ë„ ë¬µë¬µíˆ ì²˜ë¦¬í•˜ëŠ” í¸ì´ë‹¤.", t: "íƒœìŒì¸" },
      { q: "15. ìƒˆë¡œìš´ ê²ƒì— ëŒ€í•œ í˜¸ê¸°ì‹¬ì´ ë§ë‹¤.", t: "ì†Œì–‘ì¸" }
    ];

    const teaSuggestions = {
      íƒœì–‘ì¸: "ğŸµ ë¯¼ë“¤ë ˆì°¨: ì—´ì„ ë‚´ë ¤ì£¼ê³  ê°„ ê¸°ëŠ¥ ê°•í™”ì— ë„ì›€",
      íƒœìŒì¸: "ğŸµ ìœ¨ë¬´ì°¨: ìŠµì„ ì œê±°í•˜ê³  ì‹ ì§„ëŒ€ì‚¬ì— ë„ì›€",
      ì†Œì–‘ì¸: "ğŸµ êµ­í™”ì°¨: ìƒì—´ê° ì™„í™”, ëˆˆê³¼ ê°„ì— ì¢‹ìŒ",
      ì†ŒìŒì¸: "ğŸµ ìƒê°•ì°¨: ê¸°ìš´ì„ ë¶ë‹ê³  ìœ„ì¥ì„ ë”°ëœ»í•˜ê²Œ í•¨"
    };

    const herbSuggestions = {
      íƒœì–‘ì¸: "ğŸŒ¿ ê¸¸ê²½, ì—°êµ",
      íƒœìŒì¸: "ğŸŒ¿ í™©ê¸°, ì°½ì¶œ",
      ì†Œì–‘ì¸: "ğŸŒ¿ ì‹œí˜¸, ì¹˜ì",
      ì†ŒìŒì¸: "ğŸŒ¿ ì¸ì‚¼, ë°±ì¶œ"
    };

    const resultEmojis = {
      íƒœì–‘ì¸: "â˜€ï¸",
      íƒœìŒì¸: "ğŸŒ™",
      ì†Œì–‘ì¸: "ğŸ”¥",
      ì†ŒìŒì¸: "ğŸ’§"
    };

    let current = 0;
    let userName = "";
    const score = { íƒœì–‘ì¸: 0, íƒœìŒì¸: 0, ì†Œì–‘ì¸: 0, ì†ŒìŒì¸: 0 };

    // ì‹œì‘ ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
    document.getElementById("startBtn").addEventListener("click", startTest);
    document.getElementById("restartBtn").addEventListener("click", restart);

    function startTest() {
      const nameField = document.getElementById("nameInput");
      if (!nameField.value.trim()) {
        alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }
      userName = nameField.value.trim();
      current = 0;
      // ì ìˆ˜ ì´ˆê¸°í™”
      for (let key in score) score[key] = 0;

      // í™”ë©´ ì „í™˜
      document.getElementById("start").classList.add("hidden");
      document.getElementById("result").classList.add("hidden");
      document.getElementById("quiz").classList.remove("hidden");

      updateProgress();
      renderQuestion();
    }

    function updateProgress() {
      const progressBar = document.getElementById("progressBar");
      const percent = ((current) / questions.length) * 100;
      progressBar.style.width = percent + "%";
    }

    function renderQuestion() {
      const questionContainer = document.getElementById("questionContainer");
      questionContainer.innerHTML = "";

      if (current < questions.length) {
        updateProgress();

        const q = questions[current];
        const container = document.createElement("div");
        container.className = "bg-white p-4 rounded-xl shadow-md";

        const question = document.createElement("p");
        question.className = "font-semibold text-lg mb-4";
        question.textContent = q.q;

        // ë²„íŠ¼ ì»¨í…Œì´ë„ˆ
        const btnContainer = document.createElement("div");
        btnContainer.className = "flex space-x-2 mt-4";

        // ì˜ˆ ë²„íŠ¼
        const btnYes = document.createElement("button");
        btnYes.className = "btn-select btn-default flex-1";
        btnYes.textContent = "ì˜ˆ ğŸ‘";
        btnYes.addEventListener("click", () => {
          // ì ìˆ˜ ì¶”ê°€
          score[q.t]++;
          nextQuestion();
        });

        // ì•„ë‹ˆì˜¤ ë²„íŠ¼
        const btnNo = document.createElement("button");
        btnNo.className = "btn-select btn-default flex-1";
        btnNo.textContent = "ì•„ë‹ˆì˜¤ ğŸ‘";
        btnNo.addEventListener("click", nextQuestion);

        // ì¡°ë¦½
        btnContainer.appendChild(btnYes);
        btnContainer.appendChild(btnNo);
        container.appendChild(question);
        container.appendChild(btnContainer);
        questionContainer.appendChild(container);
      } else {
        showResult();
      }
    }

    function nextQuestion() {
      current++;
      if (current < questions.length) {
        renderQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      document.getElementById("quiz").classList.add("hidden");
      document.getElementById("result").classList.remove("hidden");

      // ê°€ì¥ ë†’ì€ ì ìˆ˜ ì°¾ê¸°
      let maxType = "íƒœìŒì¸";
      let maxScore = score["íƒœìŒì¸"];
      
      for (let type in score) {
        if (score[type] > maxScore) {
          maxScore = score[type];
          maxType = type;
        }
      }

      // ê²°ê³¼ í‘œì‹œ
      document.getElementById("resultType").textContent = `${userName}ë‹˜ì˜ ì²´ì§ˆì€ ${maxType}ì…ë‹ˆë‹¤.`;
      document.getElementById("resultImage").textContent = resultEmojis[maxType];
      document.getElementById("herbTea").textContent = teaSuggestions[maxType];
      document.getElementById("herb").textContent = herbSuggestions[maxType];
    }

    function restart() {
      document.getElementById("result").classList.add("hidden");
      document.getElementById("start").classList.remove("hidden");
      document.getElementById("nameInput").value = "";
    }
  </script>
</body>
</html>
